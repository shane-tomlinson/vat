{"version":3,"sources":["../.tmp/validator.js"],"names":[],"mappings":"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","file":"validator.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Validator = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n/*global exports*/\n\n'use strict'; //jshint ignore:line\n\nexports.isFunction = function (val) {\n  return typeof val === 'function';\n};\n\nexports.isString = function (val) {\n  return Object.prototype.toString.call(val) === '[object String]';\n};\n\nexports.isUndefined = function (val) {\n  return typeof val === 'undefined';\n};\n\nexports.contains = function (array, item) {\n  return array.indexOf(item) !== -1;\n};\n\nexports.union = function (/*...arrays*/) {\n  let arrays = [].slice.call(arguments, 0);\n\n  let union = [];\n  arrays.forEach((array) => {\n    array.forEach((item) => {\n      if (! exports.contains(union, item)) {\n        union.push(item);\n      }\n    });\n  });\n\n  return union;\n};\n\n\n},{}],2:[function(require,module,exports){\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n/*global require, module*/\n\n'use strict'; //jshint ignore:line\n\nconst _ = require('../ourscore');\n\nfunction toValidationError(value) {\n  let err = new TypeError('validation error');\n  err.value = value;\n  return err;\n}\n\nmodule.exports = () => {\n  let validator = (val) => {\n    let origValue = val;\n\n    if (_.isUndefined(val)) {\n      if (validator._isOptional) {\n        return val;\n      } else {\n        throw new ReferenceError('missing value');\n      }\n    }\n\n    if (validator._allowed && _.contains(validator._allowed, val)) {\n      return val;\n    }\n\n    if (validator._valid) {\n      if (_.contains(validator._valid, val)) {\n        return val;\n      }\n\n      throw toValidationError(origValue);\n    }\n\n    if (validator._transforms) {\n      val = validator._transforms.reduce((val, converter) => {\n        return converter(val);\n      }, val);\n    }\n\n    if (validator._validators) {\n      validator._validators.forEach((validator) => {\n        if (! validator(val)) {\n          throw toValidationError(origValue);\n        }\n      });\n    }\n\n    return val;\n  };\n\n  validator.allow = function (val) {\n    if (! this._allowed) {\n      this._allowed = [];\n    }\n\n    this._allowed.push(val);\n    return this;\n  };\n\n  validator.as = function (name) {\n    if (arguments.length === 0) {\n      return this._as;\n    }\n\n    this._as = name;\n    return this;\n  };\n\n  validator.optional = function () {\n    this._isOptional = true;\n    return this;\n  };\n\n  validator.required = function () {\n    this._isOptional = false;\n    return this;\n  };\n\n  validator.strict = function () {\n    this._transforms = null;\n    return this;\n  };\n\n  validator.transform = function (transformer) {\n    if (! this._transforms) {\n      this._transforms = [];\n    }\n\n    this._transforms.push(transformer);\n    return this;\n  };\n\n  validator.use = function (validator) {\n    if (! this._validators) {\n      this._validators = [];\n    }\n    this._validators.push(validator);\n    return this;\n  };\n\n  validator.valid = function (val) {\n    if (! this._valid) {\n      this._valid = [];\n    }\n\n    this._valid.push(val);\n    return this;\n  };\n\n  return validator;\n};\n\n\n\n},{\"../ourscore\":1}],3:[function(require,module,exports){\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n/*global require, module*/\n\n'use strict'; //jshint ignore:line\n\nmodule.exports = (createValidator) => {\n  return () => {\n    var validator = createValidator();\n\n    validator.transform((val) => {\n      if (val === 'true') {\n        return true;\n      } if (val === 'false') {\n        return false;\n      }\n\n      return val;\n    })\n    .use((val) => {\n      let actualType = Object.prototype.toString.call(val);\n      return actualType === '[object Boolean]';\n    });\n\n    return validator;\n  };\n};\n\n\n},{}],4:[function(require,module,exports){\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n/*global require, module*/\n\n'use strict'; //jshint ignore:line\n\nmodule.exports = (createValidator) => {\n  return () => {\n    var validator = createValidator();\n\n    validator.transform((val) => {\n      let actualType = Object.prototype.toString.call(val);\n      if (actualType !== '[object Number]') {\n        if (/^\\d+$/.test(val)) {\n          return parseInt(val, 10);\n        } else if (/^\\d*\\.\\d*$/.test(val)) {\n          return parseFloat(val);\n        }\n      }\n\n      return val;\n    })\n    .use((val) => {\n      let actualType = Object.prototype.toString.call(val);\n      return actualType === '[object Number]';\n    });\n\n    return validator;\n  };\n};\n\n\n\n\n},{}],5:[function(require,module,exports){\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n/*global require, module*/\n\n'use strict'; //jshint ignore:line\n\nconst _ = require('../ourscore');\n\nmodule.exports = (createValidator) => {\n  return () => {\n    let validator = createValidator();\n\n    validator.transform((val) => {\n      // trim strings by default\n      if (_.isString(val)) {\n        return val.trim();\n      }\n\n      return val;\n    }).use((val) => {\n      return _.isString(val);\n    });\n\n    /**\n     * Specifies the exact string length required\n     *\n     * @param {number} limit\n     */\n    validator.len = (limit) => {\n      validator.use((val) => {\n        return val.length === limit;\n      });\n\n      return validator;\n    };\n\n    /**\n     * Specifies the maximum number of characters\n     *\n     * @param {number} limit\n     */\n    validator.max = (limit) => {\n      validator.use((val) => {\n        return val.length <= limit;\n      });\n\n      return validator;\n    };\n\n    /**\n     * Specifies the minimum number of characters\n     *\n     * @param {number} limit\n     */\n    validator.min = (limit) => {\n      validator.use((val) => {\n        return val.length >= limit;\n      });\n\n      return validator;\n    };\n\n    return validator;\n  };\n};\n\n},{\"../ourscore\":1}],6:[function(require,module,exports){\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\n/*global require, module*/\n\n'use strict'; //jshint ignore:line\n\nconst _ = require('./ourscore');\n\nconst any = require('./types/any');\nconst boolean = require('./types/boolean')(any);\nconst number = require('./types/number')(any);\nconst string = require('./types/string')(any);\n\nfunction validate(data, schema) {\n  let error = null;\n  let value = data;\n\n  try {\n    if (_.isUndefined(schema)) {\n      let missingSchemaError = new Error('missing schema');\n      missingSchemaError.value = data;\n      throw missingSchemaError;\n    }\n\n    if (_.isFunction(schema)) {\n      // schema function should return converted values\n      value = schema(data);\n    } else {\n      // use the union to ensure all possible data has\n      // a corresponding schema item and all possible schema\n      // items have been checked.\n      let allKeys = _.union(Object.keys(data), Object.keys(schema));\n      value = {};\n      allKeys.forEach(function (key) {\n        let result = validate(data[key], schema[key]);\n\n        if (result.error) {\n          result.error.key = key;\n          throw result.error;\n        }\n\n        let targetKey = schema[key].as() || key;\n        // only add undefined values iff the value is not optional\n        if (! _.isUndefined(result.value) || ! schema[key]._isOptional) {\n          value[targetKey] = result.value;\n        }\n      });\n    }\n  } catch (e) {\n    error = e;\n  }\n\n  return {\n    error: error,\n    value: value\n  };\n}\n\nmodule.exports = {\n  any: any,\n  boolean: boolean,\n  number: number,\n  string: string,\n  validate: validate\n};\n\n},{\"./ourscore\":1,\"./types/any\":2,\"./types/boolean\":3,\"./types/number\":4,\"./types/string\":5}]},{},[6])(6)\n});"]}